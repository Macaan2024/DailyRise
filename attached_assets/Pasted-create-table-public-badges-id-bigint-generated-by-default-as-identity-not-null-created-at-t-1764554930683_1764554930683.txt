create table public.badges (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying null,
  icon character varying null,
  points_required bigint null,
  constraint badges_pkey primary key (id)
) TABLESPACE pg_default;

create table public.community (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying null,
  description character varying null,
  constraint community_pkey primary key (id)
) TABLESPACE pg_default;

create table public.community_members (
  id bigint generated by default as identity not null,
  joined_at timestamp with time zone not null default now(),
  role character varying null,
  community_id bigint null,
  user_id uuid null default gen_random_uuid (),
  constraint community_member_pkey primary key (id),
  constraint community_members_community_id_fkey foreign KEY (community_id) references community (id) on update CASCADE on delete CASCADE,
  constraint community_members_user_id_fkey foreign KEY (user_id) references users (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.goals (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  title character varying null,
  target_date timestamp with time zone null,
  is_achieve character varying null,
  habit_id bigint null,
  user_id uuid null default gen_random_uuid (),
  constraint goals_pkey primary key (id),
  constraint goals_habit_id_fkey foreign KEY (habit_id) references habits (id) on update CASCADE on delete CASCADE,
  constraint goals_user_id_fkey foreign KEY (user_id) references users (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.habit_logs (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  log_date date null,
  status character varying null,
  notes character varying null,
  habit_id bigint null,
  constraint habit_logs_pkey primary key (id),
  constraint habit_logs_habit_id_fkey foreign KEY (habit_id) references habits (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.habits (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  name character varying null,
  category character varying null,
  frequency character varying null,
  user_id uuid null default gen_random_uuid (),
  constraint habits_pkey primary key (id),
  constraint habits_user_id_fkey foreign KEY (user_id) references users (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.user_badges (
  id bigint generated by default as identity not null,
  earned_at timestamp with time zone not null,
  badge_id bigint null,
  user_id uuid null default gen_random_uuid (),
  constraint user_badges_pkey primary key (id),
  constraint user_badges_badge_id_fkey foreign KEY (badge_id) references badges (id) on update CASCADE on delete CASCADE,
  constraint user_badges_user_id_fkey foreign KEY (user_id) references users (id) on update CASCADE on delete CASCADE
) TABLESPACE pg_default;

create table public.users (
  id uuid not null default gen_random_uuid (),
  created_at timestamp with time zone not null default now(),
  email character varying not null,
  password character varying null,
  lastname character varying null,
  firstname character varying null,
  age character varying null,
  gender character varying null,
  image character varying null,
  constraint users_pkey primary key (id),
  constraint users_email_key unique (email)
) TABLESPACE pg_default;